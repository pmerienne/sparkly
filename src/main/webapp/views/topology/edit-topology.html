<div>
    <header>
        <div class="pull-left">
            <span class="clickable" ng-click="currentView = 'Data workflow'">
                {{topology.name}}
                <span ng-show="!validationReport.isEmpty()" class="badge" style="color: #fff;background-color: #E74C3C;"
                        tooltip-placement="bottom" tooltip="{{validationReport.warningCount}} warnings, {{validationReport.errorCount}} errors">
                    !
                </span>
            </span>
            <span class="dropdown clickable">
                <small class="dropdown-toggle">
                    {{currentView}}
                    <b class="caret"></b>
                </small>
                <span class="dropdown-arrow dropdown-arrow-inverse"></span>
                <ul class="dropdown-menu dropdown-menu-inverse">
                    <li><a ng-click="currentView = 'Data workflow'">Data workflow</a></li>
                    <li>
                        <a ng-click="currentView = 'Messages'" ng-show="!validationReport.isEmpty()">
                            Messages <span class="label label-warning">{{validationReport.size()}}</span>
                        </a>
                    </li>
                    <li><a ng-click="currentView = 'Informations'">Informations</a></li>
                </ul>
            </span>
        </div>

        <div class="pull-right">
            <i class="fa fa-cloud-upload fa-2x clickable" ng-click="saveAndLaunch()" style="margin-right: 40px" tooltip-placement="left" tooltip="Save and deploy"></i>
            <i class="fa fa-undo fa-2x clickable" ng-click="revert()" tooltip-placement="left" tooltip="Revert changes"></i>&nbsp;
            <i class="fa fa-save fa-2x clickable" ng-click="save()" tooltip-placement="left" tooltip="Save"></i>&nbsp;
        </div>
    </header>

    <pipeline-data-workflow ng-show="currentView == 'Data workflow'"></pipeline-data-workflow>

    <div ng-show="currentView == 'Messages'" class="container-fluid">
        <div class="bs-callout bs-callout-{{message.level.toLowerCase()}}" ng-repeat="message in validationReport.messages">
            <p>{{message.text}}</p>
        </div>
    </div>

    <div ng-show="currentView == 'Informations'" class="container-fluid">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <label class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" ng-model="topology.name" class="form-control" ng-required="true"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Description</label>
                <div class="col-sm-10">
                    <textarea ng-model="topology.description" class="form-control" rows="5" ng-required="false"/>
                </div>
            </div>
        </form>
    </div>

</div>